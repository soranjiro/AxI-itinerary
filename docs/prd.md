## **Webアプリケーション「AxI-itinerary」要件定義書**

### 1. 概要

#### 1.1. プロジェクト名
**AxI-itinerary**

#### 1.2. プロジェクトの目的
本プロジェクトは、旅行計画の作成・共有をより直感的で、楽しく、共同作業しやすいものにすることを目的とする。単なる静的な「しおり」ではなく、**LLM（大規模言語モデル）を旅のパートナーとして活用**し、計画段階から旅行中までユーザーをサポートする、動的でインタラクティブな体験を提供するWebアプリケーションを開発する。

#### 1.3. コンセプト
**「AIと一緒に育てる、みんなの旅日記」**
LLMとの対話を通じて旅のプランが具体化され、旅行中の出来事（写真やメモ）を記録することで、AIが新たな提案をしたり、旅の思い出を自動でまとめてくれたりする。「作成して終わり」ではなく、旅と共に成長していく新しい体験を提供する。

---

### 2. 機能要件
*(このセクションの内容は前回と同様です)*

#### 2.1. 基本機能
* しおりの新規作成（推測困難なURLを自動生成）
* タイムライン形式の予定管理（場所、時間、メモ、予算など）
* 持ち物リスト作成機能
* 費用計算機能

#### 2.2. 共有・共同編集機能
* アカウント登録不要のアクセス
* 編集パスワードによるアクセス制御
* リアルタイム共同編集（他ユーザーの編集が即座に反映）

#### 2.3. デザイン・テーマ機能
* 複数のデザインテーマ（「おしゃれ」「かわいい」「レトロ」など）
* テーマの動的変更

#### 2.4. スマートフォン対応 (UI/UX)
* あらゆるデバイスで快適に操作できるレスポンシブデザイン

#### 2.5. LLM連携機能 (v1)
* 旅の相談ができるチャットボット
* ChatGPTやGeminiなど複数モデルへの対応
* 会話内容からの予定提案・自動追加機能

#### 2.6. LLM Agent機能 (v2 - 将来構想)
* 自然言語（話し言葉）による、しおりの作成・編集・削除

---

### 3. 非機能要件
*(このセクションの内容は前回と同様です)*

* **パフォーマンス:** 高速なページ読み込みとリアルタイム反映（編集反映は1秒以内）
* **セキュリティ:** 編集パスワードのハッシュ化など、基本的な対策を講じる
* **可用性:** 24時間365日利用可能であること

---

### 4. 技術要件

最高のパフォーマンスと低コスト運用を実現するため、バックエンドに**Rust**を採用。エッジコンピューティング環境で動作させる、先進的で挑戦的な技術構成を目指します。

#### 4.1. アーキテクチャ
サーバーレスとエッジコンピューティングを全面的に採用し、高速・低コスト・スケーラブルなシステムを実現する。



#### 4.2. 技術スタック
| 領域 | 技術 | 選定理由 |
| :--- | :--- | :--- |
| **フロントエンド** | **SvelteKit** | 非常に高速で軽量なフレームワーク。少ないコードで直感的なUIを構築できるため、開発体験が良い。 |
| **バックエンド** | **Rust (Axum + Wasm)** | **最高のパフォーマンスとメモリ効率**を実現し、運用コストを極限まで削減。WebAssemblyとしてエッジで動作させることで、世界中どこからでも低遅延な応答を可能にする。 |
| **実行環境** | **Cloudflare Workers** | サーバー管理不要のエッジコンピューティング環境。Rust (Wasm) との相性が抜群で、低コスト運用に最適。 |
| **リアルタイム通信** | **WebSocket (Rustで実装)** | Rustの強力な非同期処理ライブラリ(`tokio`等)を活用してWebSocketサーバーを実装。共同編集機能のパフォーマンスを最大化する。 |
| **データベース** | **Cloudflare D1** | Cloudflare Workersからシームレスに連携できるサーバーレスデータベース。リレーショナルデータを低コストで扱える。 |
| **LLM/外部API連携** | **reqwest (Rustライブラリ)** | Rustの定番HTTPクライアント。非同期リクエストを効率的に処理し、LLM APIとの安定した通信を実現する。 |
| **ホスティング** | **Cloudflare Pages** | SvelteKitで構築したフロントエンドのデプロイに最適。Gitと連携したCI/CDを簡単に構築できる。 |

この技術スタックにより、**インフラの管理コストをほぼゼロ**に近づけつつ、Rustの強みを最大限に活かした**非常に高性能で堅牢なリアルタイムアプリケーション**を構築することが可能です。
